{% extends 'base.html' %}
<head>
    {% block title %}Searchable Database{% endblock %}
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/interactivetools.css' %}">
</head>
{% block content %}
    <div class="container-fluid py-5">
    <h2>Searchable Database</h2>
    <p>Find out how to recycle specific items and locate local recycling centers.</p>
    <form method="GET" action="{% url 'searchable_database' %}" class="form-inline my-2 my-lg-0">
        <input class="form-control mr-sm-2" type="search" placeholder="Search for an item" aria-label="Search" name="q">
        <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
    </form>
    <div class="mt-4">
        {% if query %}
        <h5>Search results for "{{ query }}":</h5>
        <ul>
            {% for item in results %}
            <li>
                <strong>{{ item.name }}:</strong> {{ item.description }}
            </li>
            {% empty %}
            <li>No results found</li>
            {% endfor %}
        </ul>
        {% endif %}
    </div>
    <div class="mt-4">
        <h5>Add New Recyclable Item</h5>
        <form method="POST" action="{% url 'searchable_database' %}">
            {% csrf_token %}
            {{ form.as_p }}
            <button type="submit" class="btn btn-primary">Add Item</button>
        </form>
    </div>


{% if messages %}
<script type="text/javascript">
    {% for message in messages %}
        alert("{{ message }}");
    {% endfor %}
</script>
{% endif %}
    </div>
{% endblock %}
